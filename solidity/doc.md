* 什么是 evm ？
    JVM java virtuaul machine jvm字节码
    EVM ethreum virtuaul machine evm字节码
    solidity 强类型脚本语言 compiler => evm bytescode => evm

* 每次发生一次交互（交易），都发生了什么？
    区块链创建了一个 evm 实例，执行合约的字节码，对数据进行处理运算

* EVM 的存储结构：
      Stack（栈）
          每个栈有1024个slot（槽位）,如果超出数量会报错“stack too depp"
          每个slot空间是 32字节，也就是256个比特位

    Memory
        evm 自身的内存
    
    Storage
        存储在链上永久的数据

数据的长度如果知道，并且不超过256个比特位的，就放在栈里；
如果长度不知道或超过256个比特位，放在Memroy或Storage。
基于这两点，可以对数据进行分类。

* 数据分类：
      基本类型
          长度固定，实际数据就在 Stack

        整数
            unit => 无符号整型，默认 uint256
            int => -+整型，默认 int256
        布尔
            bool
        地址
            address
        枚举
            enum
        字节
            bytes，最大32位，即 bytes32。
    
    引用类型
        长度未知或者超过32bit，实际数据在 Memory 或 Storage，Stack 里只有一个 keccack256 类型的哈希，指向 Memory 或 Storage 里存储的数据位置。
    
        数组
        字符串
        结构体
        映射

* 可见度修饰符

  | 可见性修饰符 | 外部能调用？  | 合约内部能调用？  | 子合约能继承？ | 用于               |
  | ------------ | ------------- | ----------------- | -------------- | ------------------ |
  | `public`     | ✅             | ✅                 | ✅              | 通用外部接口       |
  | `external`   | ✅（只能外部） | ❌（不能内部调用） | ✅              | 节省 gas、仅限外部 |
  | `internal`   | ❌             | ✅                 | ✅              | 工具函数、继承共享 |
  | `private`    | ❌             | ✅                 | ❌              | 合约内部封装       |

* 函数的状态可变性修饰符

  可变性修饰符用于限制合约的函数能够改变合约的状态或执行其他操作。

  | 可变性修饰符 | 读取状态变量 | 写入状态变量 | 消耗Gas | 描述                                                         |
  | ------------ | ------------ | ------------ | ------- | ------------------------------------------------------------ |
  | pure         | ❌            | ❌            | ❌       | 不会消耗Gas，除非被外部调用                                  |
  | view         | ✅            | ❌            | ❌       |                                                              |
  | default      | ✅            | ✅            |         |                                                              |
  | payable      |              |              | ✅       | 1. 函数允许**接收以太币**<br />2. 只有标记为 `payable` 的函数才能接收以太币<br />3.**会消耗 Gas**，因为它涉及到外部交易和转账 |

  
